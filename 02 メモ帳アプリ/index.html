<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>myMemoPad</title>
<script src="js/jquery-2.1.3.min.js"></script>
<link rel="stylesheet" href="css/sample.css">
</head>

<body>

    <header>
        <h1>å¹¸ã›ã‚’è‚²ã¦ã‚‹åºƒå ´</h1>
        <h2>ä»Šæ—¥ã‚‚ãŠç–²ã‚Œã•ã¾ï¼</h2>
    </header>

    <main style="display: none;">
        <div class="clover1">
            <img src="img/clover.png" alt="ã‚¯ãƒ­ãƒ¼ãƒãƒ¼" class="clover2">
        </div>
        <!-- <input type="text" id="title"> -->
        <!-- <input type="file" id="file"> -->
        <p class="p1">â… .ã‚„ã£ã¦ã¿ãŸâ—ğŸ˜†</p>
        <textarea id="fac1"></textarea>
        <p class="p2">â…¡.ã‚ã‚ŠãŒã¨ã†â—â˜ºï¸</p>
        <textarea id="fac2"></textarea>
        <p class="p3">â…¢.ãªã‚“ã¨ã‹ãªã‚‹ã•â—ğŸ˜</p>
        <textarea id="fac3"></textarea>
        <p class="p4">â…£.ç§ã‚‰ã—ã‹ã£ãŸâ—ğŸ˜™</p>
        <textarea id="fac4"></textarea>
        <input type="date" id="title">
        <ul>
            <li>
                <img src="img/clover4.svg" alt="ä¿å­˜ãƒœã‚¿ãƒ³" id="save" class="yotsuba">
            </li>
            <li>
                <img src="img/tentoumushi.png" alt="ã¦ã‚“ã¨ã†è™«" id="clear" class="mushi">
            </li>
        </ul>
    </main>

    <!-- ä¿å­˜ãƒ‡ãƒ¼ã‚¿æŒ¿å…¥å ´æ‰€ -->
    <table id="list"></table>

    <footer>Â©3takuma^^</footer>



    <script>

        // ---------- 1.ä¿å­˜ã®ã‚¯ãƒªãƒƒã‚¯ã‚¤ãƒ™ãƒ³ãƒˆ ----------
        $("#save").on('click', function () {
            const key = $("#title").val(); //valã¯ã€å…¥åŠ›æ–‡å­—ã‚’å–å¾—ã™ã‚‹ã€‚
            const value1 = $("#fac1").val();
            const value2 = $("#fac2").val();
            const value3 = $("#fac3").val();
            const value4 = $("#fac4").val();
            // const value=[
                // { factor1:value1, factor2:value2, factor3:value3, factor4:value4},
            // ];
            // var json_text=JSON.stringify(value); â†JSONã«æŒ‘æˆ¦ã™ã‚‹ã‚‚ã€æ•—ã‚Œã‚‹ã€‚
                //å…¥åŠ›ç¢ºèªç”¨
                console.log(key);
                console.log(value1);
                // console.log(value);
            //localStorageã«ä¿å­˜
            localStorage.setItem(key, value1, value2, value3, value4); //value2-4ã¯é€ã‚‰ã‚Œã¦ã„ãªã„ã¯ãšã€‚
            //ã‚¢ãƒ©ãƒ¼ãƒˆè¨­å®š
            if(key ===""){
                alert("æ—¥ä»˜ã‚’å…¥åŠ›ã—ã¦ã­ğŸ’¡ğŸ˜ƒ");}
            // else if(value ===""){
            //     alert("å†…å®¹ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚")}
            else {
                alert("æ–°ã—ã„ã‚¯ãƒ­ãƒ¼ãƒãƒ¼ãŒã§ããŸã‚ˆğŸ¶ğŸ€ğŸ¥°")}
            //ä¿å­˜ãƒ‡ãƒ¼ã‚¿ã‚’ãƒ–ãƒ©ã‚¦ã‚¶ã«è¡¨ç¤ºï¼ˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒªãƒ†ãƒ©ãƒ«ï¼‰
            const data = `
            <tr>
                <th>${key}</th>
                <td>${value1}</td>
                <td>${value2}</td>
                <td>${value3}</td>
                <td>${value4}</td>
            </tr>
            `
            //å¤‰æ•°("data")ã‚’ã€html("list")ã«åŸ‹ã‚è¾¼ã‚€ã€‚
            $("#list").append(data);
            //ï¼ˆä¿å­˜ã—ãŸã‚‰ï¼‰å…¥åŠ›æ¬„ã‚’ç©ºã«ã™ã‚‹ã€‚
            $("#title").val("");
            $("#fac1").val("");
            $("#fac2").val("");
            $("#fac3").val("");
            $("#fac4").val("");
        });

        // ---------- 2.æ¶ˆå»ã®ã‚¯ãƒªãƒƒã‚¯ã‚¤ãƒ™ãƒ³ãƒˆ ----------
        $("#clear").on("click", function () {
            //ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã®ãƒ‡ãƒ¼ã‚¿ã‚’å…¨æ¶ˆå»
            localStorage.clear(title);
            // localStorage.removeItem(title);
            // localStorage.removeItem(title); â†ä¸Šæ‰‹ãæ©Ÿèƒ½ã›ãšã€‚
            //ã‚¢ãƒ©ãƒ¼ãƒˆè¨­å®š
            alert("ãƒ‡ãƒ¼ã‚¿ã‚’æ¶ˆå»ã—ãŸã‚ˆã€‚");
            //ãƒ–ãƒ©ã‚¦ã‚¶ã«è¡¨ç¤ºä¸­ã®ã€Œä¿å­˜å†…å®¹ã€ã‚’å‰Šé™¤
            $("#list").empty();
        });

        // ---------- 3.ãƒ­ãƒ¼ãƒ‰æ™‚ã€ä¿å­˜ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã—è¡¨ç¤º ----------
        for (let i = 0; i < localStorage.length; i++) {
            // LocalStorage.key(i); ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã®å¼•ãå‡ºã—ã®ä½•ç•ªç›®ã§ã™ã‹ï¼Ÿã¨ã„ã†ã‚¤ãƒ¡ãƒ¼ã‚¸ã€‚
            //   â€»ç™»éŒ²ã‚¤ãƒ¡ãƒ¼ã‚¸
            //   [key]     [value]
            //   test1     11111
            //   test2     22222
            // keyã®ï¼ç•ªç›®ã¯[test]ã¨ã„ã†ãƒ‡ãƒ¼ã‚¿ã®å¡Šã®ã“ã¨ãªã®ã§ã€ãã®keyã‚’ã‚‚ã¨ã«localStorage.getItem()ã‚’ä½¿ã£ã¦å–å¾—ã—ã¦ã„ã‚‹æ„Ÿã˜ã€‚
            const key = localStorage.key(i);
            const value1 = localStorage.getItem(key);
            const value2 = localStorage.getItem(key);
            const value3 = localStorage.getItem(key);
            const value4 = localStorage.getItem(key);
            //ä¿å­˜ãƒ‡ãƒ¼ã‚¿ã‚’ãƒ–ãƒ©ã‚¦ã‚¶ã«è¡¨ç¤ºï¼ˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒªãƒ†ãƒ©ãƒ«ï¼‰
            const data = `
            <tr>
                <th>${key}</th>
                <td>${value1}</td>
                <td>${value2}</td>
                <td>${value3}</td>
                <td>${value4}</td>
            </tr>
            `
            //å¤‰æ•°("data")ã‚’ã€html("list")ã«åŸ‹ã‚è¾¼ã‚€ã€‚
            $("#list").append(data);
        }
        /* if(localStorage.getItem(title)){
            var value = localStorage.getItem(title);
            $("#title").val(value);
        } */ //â†‘ä¸Šæ‰‹ãæ©Ÿèƒ½ã›ãšã€‚ãƒ¡ãƒ¢æ¬„ã«æ–‡å­—ã‚’æ®‹ã—ã¦ãŠãæŒ‡ç¤ºã€‚ï¼ˆå‹•ç”»ï¼’âˆ’ï¼‘ï¼ã‚ˆã‚Šï¼‰

        // ---------- 4.ãã®ä»– ----------
        // $("main").slideDown(600);
        $("main").hide().fadeIn(1800);
    </script>

</body>
</html>
